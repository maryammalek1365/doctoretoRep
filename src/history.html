<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="search-container">
  <input type="text" id="searchInput" placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ø³Ø§ÛŒØª..." onfocus="showSearchHistory()">
  <button onclick="performSearch()">Ø¬Ø³ØªØ¬Ùˆ</button>
  
  <div class="search-history-box" id="searchHistoryBox">
    <div class="search-history-header">
      <span>Ø¬Ø³ØªØ¬ÙˆÙ‡Ø§ÛŒ Ø§Ø®ÛŒØ±</span>
      <button class="close-btn" onclick="hideSearchHistory()">Ã—</button>
    </div>
    <div class="search-history-items" id="searchHistoryItems">
      <!-- Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ø¬Ø³ØªØ¬Ùˆ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
    </div>
    
    <!-- Ø¨Ø®Ø´ Ù¾Ø±Ù…ØªÙ‚Ø§Ø¶ÛŒâ€ŒØªØ±ÛŒÙ† ØªØ®ØµØµâ€ŒÙ‡Ø§ -->
    <div class="popular-specialties">
      <div class="popular-header">Ù¾Ø±Ù…ØªÙ‚Ø§Ø¶ÛŒâ€ŒØªØ±ÛŒÙ† ØªØ®ØµØµâ€ŒÙ‡Ø§</div>
      <div class="popular-items">
        <div class="popular-item" onclick="searchSpecialty('Ú©ÙˆØ¯Ú©Ø§Ù†')">
          <span class="popular-item-icon">ğŸ‘¶</span>
          <span class="popular-item-text">Ú©ÙˆØ¯Ú©Ø§Ù†</span>
        </div>
        <div class="popular-item" onclick="searchSpecialty('Ø²Ù†Ø§Ù†')">
          <span class="popular-item-icon">ğŸ‘©</span>
          <span class="popular-item-text">Ø²Ù†Ø§Ù†</span>
        </div>
        <div class="popular-item" onclick="searchSpecialty('Ø§Ø±ØªÙˆÙ¾Ø¯ÛŒ')">
          <span class="popular-item-icon">ğŸ¦´</span>
          <span class="popular-item-text">Ø§Ø±ØªÙˆÙ¾Ø¯ÛŒ</span>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
 
 /* Ø¨Ù‡ CSS Ø§ÛŒÙ† Ú©Ù„Ø§Ø³ Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯ */
.search-highlight {
  background-color: yellow;
  padding: 0 2px;
  border-radius: 2px;
}   
    .search-container {
  position: relative;
  display: inline-block;
  margin: 20px;
}

#searchInput {
  padding: 10px 15px;
  width: 300px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
}

button {
  padding: 10px 15px;
  background-color: #4285f4;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
}

.search-history-box {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  width: 330px;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  z-index: 1000;
  margin-top: 5px;
}

.search-history-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 15px;
  border-bottom: 1px solid #eee;
  font-weight: bold;
}

.close-btn {
  background: none;
  color: #888;
  font-size: 20px;
  padding: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  cursor: pointer;
}

.close-btn:hover {
  color: #333;
}

.search-history-items {
  max-height: 300px;
  overflow-y: auto;
}

.search-history-item {
  padding: 10px 15px;
  cursor: pointer;
  border-bottom: 1px solid #f5f5f5;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.search-history-item:hover {
  background-color: #f5f5f5;
}

.search-history-item:last-child {
  border-bottom: none;
}

.delete-history-item {
  color: #888;
  background: none;
  border: none;
  cursor: pointer;
  padding: 5px;
}

.delete-history-item:hover {
  color: #f44336;
}

.popular-specialties {
  border-top: 1px solid #eee;
  padding: 10px 0;
  background-color: #f9f9f9;
}

.popular-header {
  padding: 5px 15px;
  color: #666;
  font-size: 14px;
  font-weight: bold;
}

.popular-items {
  display: flex;
  flex-wrap: wrap;
  padding: 0 10px;
}

.popular-item {
  padding: 8px 12px;
  margin: 5px;
  background-color: #f0f7ff;
  border-radius: 20px;
  color: #4285f4;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s;
  display: flex;
  align-items: center;
}

.popular-item:hover {
  background-color: #d6e7ff;
  transform: translateY(-2px);
}

.popular-item-icon {
  margin-left: 5px;
  font-size: 16px;
}

.popular-item-text {
  margin-right: 5px;
}
</style>
<script>
    // Ú©Ù„ÛŒØ¯ Ø°Ø®ÛŒØ±Ù‡ Ø³Ø§Ø²ÛŒ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø¯Ø± localStorage
const SEARCH_HISTORY_KEY = 'searchHistory';

// Ù†Ù…Ø§ÛŒØ´ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø¬Ø³ØªØ¬Ùˆ Ù‡Ù†Ú¯Ø§Ù… ÙÙˆÚ©ÙˆØ³
function showSearchHistory() {
  const historyBox = document.getElementById('searchHistoryBox');
  historyBox.style.display = 'block';
  loadSearchHistory();
}

// Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø¬Ø³ØªØ¬Ùˆ
function hideSearchHistory() {
  document.getElementById('searchHistoryBox').style.display = 'none';
}

// Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ùˆ Ù†Ù…Ø§ÛŒØ´ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø¬Ø³ØªØ¬Ùˆ
function loadSearchHistory() {
  const historyItems = document.getElementById('searchHistoryItems');
  historyItems.innerHTML = '';
  
  const searches = getSearchHistory();
  
  if (searches.length === 0) {
    historyItems.innerHTML = '<div class="search-history-item" style="justify-content: center; color: #888;">Ù‡ÛŒÚ† Ø¬Ø³ØªØ¬ÙˆÛŒÛŒ Ø§Ù†Ø¬Ø§Ù… Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</div>';
    return;
  }
  
  searches.forEach((term, index) => {
    const item = document.createElement('div');
    item.className = 'search-history-item';
    
    const termSpan = document.createElement('span');
    termSpan.textContent = term;
    termSpan.onclick = () => {
      document.getElementById('searchInput').value = term;
      performSearch();
    };
    
    const deleteBtn = document.createElement('button');
    deleteBtn.className = 'delete-history-item';
    deleteBtn.innerHTML = 'Ã—';
    deleteBtn.onclick = (e) => {
      e.stopPropagation();
      removeFromSearchHistory(index);
      loadSearchHistory();
    };
    
    item.appendChild(termSpan);
    item.appendChild(deleteBtn);
    historyItems.appendChild(item);
  });
}

// Ø¯Ø±ÛŒØ§ÙØª ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø§Ø² localStorage
function getSearchHistory() {
  const history = localStorage.getItem(SEARCH_HISTORY_KEY);
  return history ? JSON.parse(history) : [];
}

// Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¬Ø³ØªØ¬Ùˆ Ø¨Ù‡ ØªØ§Ø±ÛŒØ®Ú†Ù‡
function addToSearchHistory(term) {
  if (!term.trim()) return;
  
  let searches = getSearchHistory();
  searches = searches.filter(item => item.toLowerCase() !== term.toLowerCase());
  searches.unshift(term);
  
  if (searches.length > 10) {
    searches = searches.slice(0, 10);
  }
  
  localStorage.setItem(SEARCH_HISTORY_KEY, JSON.stringify(searches));
}

// Ø­Ø°Ù Ø¢ÛŒØªÙ… Ø§Ø² ØªØ§Ø±ÛŒØ®Ú†Ù‡
function removeFromSearchHistory(index) {
  let searches = getSearchHistory();
  searches.splice(index, 1);
  localStorage.setItem(SEARCH_HISTORY_KEY, JSON.stringify(searches));
}

// Ø¬Ø³ØªØ¬ÙˆÛŒ ØªØ®ØµØµâ€ŒÙ‡Ø§ÛŒ Ù¾Ø±Ú©Ø§Ø±Ø¨Ø±Ø¯
function searchSpecialty(specialty) {
  document.getElementById('searchInput').value = specialty;
  performSearch();
}

// Ø§Ù†Ø¬Ø§Ù… Ø¬Ø³ØªØ¬Ùˆ
// ØªØ§Ø¨Ø¹ performSearch Ø±Ø§ Ø¨Ø§ Ø§ÛŒÙ† Ù†Ø³Ø®Ù‡ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù†ÛŒØ¯
function performSearch() {
  const searchTerm = document.getElementById('searchInput').value.trim();
  
  if (!searchTerm) {
    alert('Ù„Ø·ÙØ§Ù‹ Ø¹Ø¨Ø§Ø±Øª Ø¬Ø³ØªØ¬Ùˆ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
    return;
  }
  
  addToSearchHistory(searchTerm);
  hideSearchHistory();
  
  // 1. Ø±ÙˆØ´ Ø§ÙˆÙ„: Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± ØµÙØ­Ù‡ ÙØ¹Ù„ÛŒ
  searchInCurrentPage(searchTerm);
  
  // 2. Ø±ÙˆØ´ Ø¯ÙˆÙ…: Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ ØµÙØ­Ù‡ Ø¬Ø³ØªØ¬Ùˆ (Ø­Ø§Ù„Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡)
  // window.location.href = `/search?q=${encodeURIComponent(searchTerm)}`;
}

// ØªØ§Ø¨Ø¹ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± ØµÙØ­Ù‡ ÙØ¹Ù„ÛŒ
function searchInCurrentPage(term) {
  // Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ù‡Ø§ÛŒÙ„Ø§ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ
  clearHighlights();
  
  // Ø§Ú¯Ø± ØµÙØ­Ù‡ Ø´Ù…Ø§ Ù…Ø­ØªÙˆØ§ÛŒ Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ© Ø¯Ø§Ø±Ø¯ØŒ Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¨Ø§ÛŒØ¯ Ø§ØµÙ„Ø§Ø­ Ø´ÙˆØ¯
  const pageContent = document.body.innerHTML;
  const regex = new RegExp(term, 'gi');
  
  // Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ†ÛŒ Ù…ØªÙ† ÛŒØ§ÙØª Ø´Ø¯Ù‡ Ø¨Ø§ Ù†Ø³Ø®Ù‡ Ù‡Ø§ÛŒÙ„Ø§ÛŒØª Ø´Ø¯Ù‡
  const highlightedContent = pageContent.replace(
    regex, 
    match => `<span class="search-highlight">${match}</span>`
  );
  
  document.body.innerHTML = highlightedContent;
  
  // Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ù‡ Ø§ÙˆÙ„ÛŒÙ† Ù†ØªÛŒØ¬Ù‡
  const firstResult = document.querySelector('.search-highlight');
  if (firstResult) {
    firstResult.scrollIntoView({ behavior: 'smooth', block: 'center' });
  }
}

// ØªØ§Ø¨Ø¹ Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ù‡Ø§ÛŒÙ„Ø§ÛŒØªâ€ŒÙ‡Ø§
function clearHighlights() {
  const highlights = document.querySelectorAll('.search-highlight');
  highlights.forEach(highlight => {
    const parent = highlight.parentNode;
    parent.replaceChild(document.createTextNode(highlight.textContent), highlight);
  });
}


// Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ø¨Ø§Ú©Ø³ Ù‡Ù†Ú¯Ø§Ù… Ú©Ù„ÛŒÚ© Ø®Ø§Ø±Ø¬ Ø§Ø² Ø¢Ù†
document.addEventListener('click', function(event) {
  const searchContainer = document.querySelector('.search-container');
  const isClickInside = searchContainer.contains(event.target);
  
  if (!isClickInside) {
    hideSearchHistory();
  }
});

// Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ ØªØ§Ø±ÛŒØ®Ú†Ù‡
document.addEventListener('DOMContentLoaded', function() {
  loadSearchHistory();
});
</script>


<p>
    Ú©ÙˆØ¯Ú©Ø§Ù† Ù…Ø§ Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø±
</p>
<p>
    Ú©ÙˆØ¯Ú©Ø§Ù† Ø¯ÛŒØ±ÙˆØ²
</p>
</body>
</html>